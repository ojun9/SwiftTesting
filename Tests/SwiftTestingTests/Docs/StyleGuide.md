# コードおよびドキュメンテーションスタイルガイド

テスティングライブラリの残りの部分でのスタイルと声に合致するコードとドキュメンテーションを書きます。

## 概要

テスティングライブラリには、コードおよびドキュメンテーションで使用される特定のスタイルがあります。テスティングライブラリへのコードやドキュメンテーションの提出を準備する際、開発者はこのスタイルに一致するように注意し、それを使用する開発者に一貫した体験を提供するようにする必要があります。

### コード

#### インデントとスペース

テスティングライブラリのコードを書く際には、インデントに2つのスペースを使用します。コメント（特に長いブロックコメント）は80列で折り返します。コードは80列で折り返す必要はありませんが、読みやすさが向上する場合には、長い引数リストを複数の行に分割することが推奨されます。

#### シンボル名とAPI設計

新しいAPIは、Swiftの[API Design Guidelines](https://www.swift.org/documentation/api-design-guidelines/)に記載されているルールに従う必要があります。

技術的な理由で`public`である必要があるが、テスティングライブラリの公開インターフェースの一部ではないことが意図されているSwiftシンボルには、2つの先行アンダースコアを付ける必要があります。例えば:

```swift
public func __check()
```

`private`とマークされたシンボルには、プライベートであることを強調するために先行アンダースコアを付ける必要があります。`fileprivate`、`internal`などとマークされたシンボルは、先行アンダースコアを持っていないようにする必要があります（上記の`public`シンボルを除く）。

エクスポートされたCおよびC++シンボルには、プレフィックス`swt_`を付ける必要があり、それ以外はSwiftと同じlowerCamelCase命名規則を使用して名前を付ける必要があります。`SWT_EXTERN`マクロを使用して、シンボルがC、C++、およびSwiftで一貫して表示されるようにします。例えば:

```c
SWT_EXTERN bool swt_isDebugModeEnabled(void);

SWT_EXTERN void swt_setDebugModeEnabled(bool isEnabled);
```

CおよびC++の型には、プレフィックス`SWT`を付け、それ以外はSwiftと同じUpperCamelCase命名規則を使用して名前を付ける必要があります。例えば:

```c
typedef intmax_t SWTBigInteger;

typedef struct SWTContainer {
  ...
} SWTContainer;
```

#### シンボルのドキュメント化

ほとんどのシンボル、`private`とマークされたシンボルを含め、マークアップスタイルのドキュメントを付ける必要があります。プロトコルの要件を満たすシンボルには追加のドキュメントを付ける必要はありません（プロトコル宣言のドキュメントは一般的に十分です）。

### ドキュメント

テスティングライブラリのドキュメントは、文脈に応じて、[Swift Book style guide](https://github.com/apple/swift-book/blob/main/Style.md)および[Apple Style Guide](https://support.apple.com/guide/applestyleguide/)に従って作成する必要があります。

#### 例のアプリケーション、プロジェクト、およびパッケージ

一般的に、例のコードにアプリケーション、プロジェクト、またはパッケージが必要な場合は、「FoodTruck」を使用します。これは、さまざまな食品を販売するモバイルレストランのコンセプトを基盤とする架空のアプリケーションです。例のコードで食べ物を参照する場合は、国際的な視聴者に認識される食べ物を選ぶか、または複数の文化からの異なる食べ物のセットを使用します。

例のコードは文法的に正しい必要がありますが、実際にコンパイル、実行、および意味のある作業を実行する必要はありません。

#### 言語

ドキュメントは国際的な視聴者のために米国英語で書かれるべきです。文化的に特定の参照は、それらがドキュメントに特に関連していない限り避けてください。

- 注意: 文化的に不適切で不適切な言語は容認されません。詳細については、[Swift Code of Conduct](https://swift.org/code-of-conduct)を参照してください。

#### ボイス

ドキュメントは専門的な声で書かれるべきです。著者と読者は個人的に知っていることが期待されていないため、「let's」のような過度に親しみやすい用語や話し言葉は避けてください。

タスクを達成するために読者が正確に従う必要がある特定の指示を書く場合は、二人称（「you」、「your」など）を使用します。それ以外の場合は、二人称を使用しないでください。

#### 技術的な詳細

ドキュメントは可能な限りMarkdownを使用してUTF-8でエンコードされます。

ドキュメントは80列で折り返す必要があり、可能な限りドキュメント内のコードサンプルを含めて、読者が水平にスクロールする必要がないようにします。ドキュメントに長いリンクが含まれている場合、それを複数の行に分割する必要はありませんし、URL短縮サービスを使用すべきではありません。
